## üìå Habit Tracker

–ë“±–ª –∂–æ–±–∞ ”ô–¥–µ—Ç—Ç–µ—Ä–¥—ñ –±–∞“õ—ã–ª–∞—É(habit-tracker) –∂“Ø–π–µ—Å—ñ “Ø—à—ñ–Ω REST API “±—Å—ã–Ω–∞–¥—ã. –û–ª Golang, Gin, GORM –∂”ô–Ω–µ PostgreSQL –∫”©–º–µ–≥—ñ–º–µ–Ω –∂–∞—Å–∞–ª“ì–∞–Ω.

üõ† “ö–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä
Golang ‚Äî –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—É —Ç—ñ–ª—ñ

Gin ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫

GORM ‚Äî ORM (–º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä “õ–æ—Ä—ã–º–µ–Ω –∂“±–º—ã—Å —ñ—Å—Ç–µ—É “Ø—à—ñ–Ω)

PostgreSQL ‚Äî –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä “õ–æ—Ä—ã

üõ† Gin –æ—Ä–Ω–∞—Ç—É
```
go get -u github.com/gin-gonic/gin
```
üåê REST API
![image](https://github.com/user-attachments/assets/0daad456-f515-47ef-b864-e7c040f9d945)

üéõ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (controllers/user_controller.go)
–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä API-“ì–∞ —Å“±—Ä–∞–Ω—ã—Å—Ç–∞—Ä–¥—ã “õ–∞–±—ã–ª–¥–∞–ø, –æ–ª–∞—Ä–¥—ã —Å–µ—Ä–≤–∏—Å–∫–µ –∂—ñ–±–µ—Ä–µ–¥—ñ.

üìå –ë–∞—Ä–ª—ã“õ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–¥—ã –∞–ª—É
```go
func (ctrl *UserController) GetAllUsers(c *gin.Context) {
    users, err := ctrl.userService.GetAllUsers()
    if err != nil {
        c.JSON(http.StatusInternalServerError, gin.H{"error": err.Error()})
        return
    }
    c.JSON(http.StatusOK, users)
}
```
–ë“±–ª GET /users —Å“±—Ä–∞–Ω—ã—Å—ã–Ω ”©“£–¥–µ–π–¥—ñ –∂”ô–Ω–µ –±–∞—Ä–ª—ã“õ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–¥—ã “õ–∞–π—Ç–∞—Ä–∞–¥—ã.

üìå Email –±–æ–π—ã–Ω—à–∞ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã —ñ–∑–¥–µ—É
```go
func (ctrl *UserController) GetUsersByEmail(c *gin.Context) {
    email := c.Query("email")
    users, err := ctrl.userService.FindUsersByEmail(email)
    if err != nil {
        c.JSON(http.StatusInternalServerError, gin.H{"error": err.Error()})
        return
    }
    c.JSON(http.StatusOK, users)
}
```
–ë“±–ª GET /users/search?email=example@mail.com —Å“±—Ä–∞–Ω—ã—Å—ã–Ω ”©“£–¥–µ–π–¥—ñ –∂”ô–Ω–µ email –∞—Ä“õ—ã–ª—ã –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã —Ç–∞–±–∞–¥—ã.

‚öô –°–µ—Ä–≤–∏—Å (services/user_service.go)
–°–µ—Ä–≤–∏—Å –ª–æ–≥–∏–∫–∞—Å—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–Ω–∞–Ω –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä–¥—ñ –∞–ª–∞–¥—ã.

üìå –ë–∞—Ä–ª—ã“õ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–¥—ã –∞–ª—É
```go
func (s *UserServiceImpl) GetAllUsers() ([]models.User, error) {
    return s.repo.GetAllUsers()
}
```
üìå Email –±–æ–π—ã–Ω—à–∞ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–¥—ã —ñ–∑–¥–µ—É
```go
func (s *UserServiceImpl) FindUsersByEmail(email string) ([]models.User, error) {
    return s.repo.FindUsersByEmail(email)
}
```
üóÇ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (repository/user_repository.go)
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GORM –∞—Ä“õ—ã–ª—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–º–µ–Ω –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–¥—ñ.

üìå Email –∞—Ä“õ—ã–ª—ã –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã —ñ–∑–¥–µ—É
```go
func (r *UserRepo) FindUsersByEmail(email string) ([]models.User, error) {
    var users []models.User
    result := config.DB.Where("email = ?", email).Find(&users)
    return users, result.Error
}
```
üõ§ –ú–∞—Ä—à—Ä—É—Ç—Ç–∞—Ä (routes/routes.go)
–ë“±–ª Gin –∫”©–º–µ–≥—ñ–º–µ–Ω API –º–∞—Ä—à—Ä—É—Ç—Ç–∞—Ä—ã–Ω –æ—Ä–Ω–∞—Ç–∞–¥—ã.

```go
package routes

import (
	"habit-tracker/controllers"

	"github.com/gin-gonic/gin"
)

func SetupRouter(userController *controllers.UserController) *gin.Engine {
	r := gin.Default()

	r.GET("/users", userController.GetAllUsers)
	r.GET("/users/:id", userController.GetUserById)
	r.GET("/users/search", userController.GetUsersByEmail)
	r.POST("/users", userController.CreateUser)
	r.PUT("/users/:id", userController.UpdateUser)
	r.DELETE("/users/:id", userController.DeleteUser)

	return r
}
```






## üîß GORM “õ–∞–ª–∞–π “õ–æ—Å—Ç—ã–º?

1Ô∏è‚É£ GORM –ø–∞–∫–µ—Ç—ñ–Ω –æ—Ä–Ω–∞—Ç—É
–ê–ª–¥—ã–º–µ–Ω gorm –∂”ô–Ω–µ PostgreSQL –¥—Ä–∞–π–≤–µ—Ä—ñ–Ω –æ—Ä–Ω–∞—Ç—É –∫–µ—Ä–µ–∫.
–¢”©–º–µ–Ω–¥–µ–≥—ñ –∫–æ–º–∞–Ω–¥–∞–Ω—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–¥–∞ –æ—Ä—ã–Ω–¥–∞“£—ã–∑:
```
go get -u gorm.io/gorm
go get -u gorm.io/driver/postgres
```
2Ô∏è‚É£ .env —Ñ–∞–π–ª—ã–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É
–ù–µ —ñ—Å—Ç–µ–π–¥—ñ?
.env —Ñ–∞–π–ª—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–Ω–∞ “õ–æ—Å—ã–ª—É –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä—ñ–Ω (–º—ã—Å–∞–ª—ã, —Ö–æ—Å—Ç, –ø–æ—Ä—Ç, –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã –∞—Ç—ã, –ø–∞—Ä–æ–ª—å) —Å—ã—Ä—Ç“õ—ã —Ñ–∞–π–ª–¥–∞ —Å–∞“õ—Ç–∞–π–¥—ã. –ë“±–ª –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –∫–æ–¥—Ç–∞–Ω –±”©–ª–µ–∫ —Å–∞“õ—Ç–∞—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.
–ù–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?
“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫: –ü–∞—Ä–æ–ª—å–¥–µ—Ä –º–µ–Ω –±–∞—Å“õ–∞ —Å–µ–∑—ñ–º—Ç–∞–ª –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä–¥—ñ –∫–æ–¥“õ–∞ “õ–∞—Ç—Ç—ã –µ–Ω–≥—ñ–∑–±–µ—É –∞—Ä“õ—ã–ª—ã “õ–æ—Ä“ì–∞–π–¥—ã.
–ò–µ–ª–µ–Ω—É—à—ñ–ª—ñ–∫: ”ò—Ä—Ç“Ø—Ä–ª—ñ –æ—Ä—Ç–∞–ª–∞—Ä–¥–∞ (–º—ã—Å–∞–ª—ã, –ª–æ–∫–∞–ª—å–¥—ã“õ, —Ç–µ—Å—Ç—Ç—ñ–∫, ”©–Ω–¥—ñ—Ä—ñ—Å—Ç—ñ–∫) ”ô—Ä—Ç“Ø—Ä–ª—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –ø–∞–π–¥–∞–ª–∞–Ω—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.
–ú—ã—Å–∞–ª .env —Ñ–∞–π–ª—ã:

```env
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=@zxcvbnm05
DB_NAME=habit_db
```
2. godotenv –ø–∞–∫–µ—Ç—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É
–ù–µ —ñ—Å—Ç–µ–π–¥—ñ?
godotenv –ø–∞–∫–µ—Ç—ñ .env —Ñ–∞–π–ª—ã–Ω–¥–∞“ì—ã –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä–¥—ñ –æ“õ–∏–¥—ã –∂”ô–Ω–µ –æ–ª–∞—Ä–¥—ã Go –ø—Ä–æ–≥—Ä–∞–º–º–∞—Å—ã–Ω–¥–∞ –ø–∞–π–¥–∞–ª–∞–Ω—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.
–ù–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?
.env —Ñ–∞–π–ª—ã–Ω –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –∂“Ø–∫—Ç–µ–ø, –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –ø—Ä–æ–≥—Ä–∞–º–º–∞–¥–∞ “õ–æ–ª–¥–∞–Ω—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.
–ï–≥–µ—Ä .env —Ñ–∞–π–ª—ã –∂–æ“õ –±–æ–ª—Å–∞ –Ω–µ–º–µ—Å–µ “õ–∞—Ç–µ –±–æ–ª—Å–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∞ “õ–∞—Ç–µ —à—ã“ì–∞—Ä–∞–¥—ã.
–ö–æ–¥ –º—ã—Å–∞–ª—ã:

```go
err := godotenv.Load()
if err != nil {
    log.Fatal("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ env —Ñ–∞–π–ª–∞")
}
```
3. DSN —Ñ–æ—Ä–º–∞—Ç—ã–Ω –¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ “õ“±—Ä—É
–ù–µ —ñ—Å—Ç–µ–π–¥—ñ?
fmt.Sprintf —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω –ø–∞–π–¥–∞–ª–∞–Ω—ã–ø, .env —Ñ–∞–π–ª—ã–Ω–¥–∞“ì—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –ø–∞–π–¥–∞–ª–∞–Ω—ã–ø, DSN (Data Source Name) –∂–æ–ª—ã–Ω –¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ —Ç“Ø—Ä–¥–µ “õ“±—Ä–∞–¥—ã.
–ù–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?
–î–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–Ω–∞ “õ–æ—Å—ã–ª—É –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä—ñ–Ω “õ–∞—Ç—Ç—ã –∫–æ–¥—Ç–∞—É–¥–∞–Ω –∞—É–ª–∞“õ –±–æ–ª—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.
–ü–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ ”©–∑–≥–µ—Ä—Ç—É “Ø—à—ñ–Ω —Ç–µ–∫ .env —Ñ–∞–π–ª—ã–Ω ”©–∑–≥–µ—Ä—Ç—É –∂–µ—Ç–∫—ñ–ª—ñ–∫—Ç—ñ.
–ö–æ–¥ –º—ã—Å–∞–ª—ã:

```go
dsn := fmt.Sprintf("host=%s user=%s password=%s dbname=%s port=%s sslmode=disable",
    os.Getenv("DB_HOST"),
    os.Getenv("DB_USER"),
    os.Getenv("DB_PASSWORD"),
    os.Getenv("DB_NAME"),
    os.Getenv("DB_PORT"),
)
```
4. “ö–∞—Ç–µ–ª–µ—Ä–¥—ñ –±–∞—Å“õ–∞—Ä—É
–ù–µ —ñ—Å—Ç–µ–π–¥—ñ?
log.Fatal —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω –ø–∞–π–¥–∞–ª–∞–Ω—ã–ø, “õ–∞—Ç–µ–ª–µ—Ä–¥—ñ —à—ã“ì–∞—Ä—ã–ø, –ø—Ä–æ–≥—Ä–∞–º–º–∞–Ω—ã —Ç–æ“õ—Ç–∞—Ç–∞–¥—ã.
–ù–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?
“ö–∞—Ç–µ–ª–µ—Ä–¥—ñ —Ç–µ–∑ –∞–Ω—ã“õ—Ç–∞—É“ì–∞ –∂”ô–Ω–µ –∂”©–Ω–¥–µ—É–≥–µ –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ.
–ú—ã—Å–∞–ª—ã, –¥–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–Ω–∞ “õ–æ—Å—ã–ª“ì–∞–Ω–¥–∞ “õ–∞—Ç–µ –±–æ–ª—Å–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç–æ“õ—Ç–∞–π–¥—ã.
–ö–æ–¥ –º—ã—Å–∞–ª—ã:

```go
if err != nil {
    log.Fatal("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:", err)
}
```
5. –ú–∏–≥—Ä–∞—Ü–∏—è
–ù–µ —ñ—Å—Ç–µ–π–¥—ñ?
AutoMigrate —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω –ø–∞–π–¥–∞–ª–∞–Ω—ã–ø, User –º–æ–¥–µ–ª—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –¥–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è–ª–∞–π–¥—ã.
–ù–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?
–ú–æ–¥–µ–ª—å–¥–µ—Ä–¥—ñ“£ ”©–∑–≥–µ—Ä—É—ñ–Ω (–º—ã—Å–∞–ª—ã, –∂–∞“£–∞ ”©—Ä—ñ—Å—Ç–µ—Ä–¥—ñ “õ–æ—Å—É) –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –±–∞–∑–∞“ì–∞ “õ–æ–ª–¥–∞–Ω—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.
“ö–æ–ª–º–µ–Ω SQL —Å“±—Ä–∞–Ω—ã—Å—Ç–∞—Ä—ã–Ω –∂–∞–∑–±–∞—É“ì–∞ –±–æ–ª–∞–¥—ã.
–ö–æ–¥ –º—ã—Å–∞–ª—ã:

```go
func Migrate() {
    err := DB.AutoMigrate(&models.User{})
    if err != nil {
        log.Fatal("–û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:", err)
    }
    fmt.Println("–ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!")
}
```
–ñ–∞–ª–ø—ã “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã
–°—ñ–∑–¥—ñ“£ –∂–∞“£–∞—Ä—Ç—É–ª–∞—Ä—ã“£—ã–∑ –ø—Ä–æ–≥—Ä–∞–º–º–∞–Ω—ã“£ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Å—ã–Ω –±–∞—Å“õ–∞—Ä—É–¥—ã –∂–µ“£—ñ–ª–¥–µ—Ç–µ–¥—ñ, “õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫—Ç—ñ –∞—Ä—Ç—Ç—ã—Ä–∞–¥—ã –∂”ô–Ω–µ –º–∞—Å—à—Ç–∞–±—Ç–∞–ª—É“ì–∞ –¥–∞–π—ã–Ω –µ—Ç–µ–¥—ñ.

3Ô∏è‚É£ User –º–æ–¥–µ–ª—ñ–Ω “õ“±—Ä—É (models/user.go)
GORM User –º–æ–¥–µ–ª—ñ–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑.

```go
package models

type User struct {
    ID    uint   `gorm:"primaryKey"`
    Name  string `gorm:"unique"`
    Email string `gorm:"unique"`
    Age   int
}
```
üìå –ë“±–ª –∫–æ–¥ –Ω–µ —ñ—Å—Ç–µ–π–¥—ñ?

GORM –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–ª–∞—Ä—ã–Ω (gorm:"primaryKey" –∂”ô–Ω–µ gorm:"unique") “õ–æ–ª–¥–∞–Ω–∞–¥—ã.

ID ‚Äî –Ω–µ–≥—ñ–∑–≥—ñ –∫—ñ–ª—Ç.

Name –∂”ô–Ω–µ Email ‚Äî –±—ñ—Ä–µ–≥–µ–π –º”ô–Ω–¥–µ—Ä.

4Ô∏è‚É£ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π–¥–µ–≥—ñ GORM —Å“±—Ä–∞–Ω—ã—Å—Ç–∞—Ä—ã (repository/user_repository.go)
–ë–∞—Ä–ª—ã“õ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–¥—ã –∞–ª—É:
```go
func (r *UserRepo) GetAllUsers() ([]models.User, error) {
    var users []models.User
    result := config.DB.Find(&users)
    return users, result.Error
}
```
–ë“±–ª SELECT * FROM users; —Å“±—Ä–∞–Ω—ã—Å—ã–Ω –æ—Ä—ã–Ω–¥–∞–π–¥—ã.

ID –∞—Ä“õ—ã–ª—ã –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã —Ç–∞–±—É:
```go
func (r *UserRepo) GetUserById(id uint) (models.User, error) {
    var user models.User
    result := config.DB.First(&user, id)
    return user, result.Error
}
```
–ë“±–ª SELECT * FROM users WHERE id = ? LIMIT 1; —Å“±—Ä–∞–Ω—ã—Å—ã–Ω –æ—Ä—ã–Ω–¥–∞–π–¥—ã.

–ñ–∞“£–∞ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã “õ–æ—Å—É:
```go
func (r *UserRepo) CreateUser(user models.User) (models.User, error) {
    result := config.DB.Create(&user)
    return user, result.Error
}
```
–ë“±–ª INSERT INTO users (name, email, age) VALUES (?, ?, ?); —Å“±—Ä–∞–Ω—ã—Å—ã–Ω –æ—Ä—ã–Ω–¥–∞–π–¥—ã.

Email –±–æ–π—ã–Ω—à–∞ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã —Ç–∞–±—É:
```go
func (r *UserRepo) FindUsersByEmail(email string) ([]models.User, error) {
    var users []models.User
    result := config.DB.Where("email = ?", email).Find(&users)
    return users, result.Error
}
```
–ë“±–ª SELECT * FROM users WHERE email = ?; —Å“±—Ä–∞–Ω—ã—Å—ã–Ω –æ—Ä—ã–Ω–¥–∞–π–¥—ã.
